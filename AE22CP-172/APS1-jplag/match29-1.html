<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>1917358</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>1917358_APS.c</CENTER></H3><HR>
<PRE>
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;assert.h&gt;
#include &lt;string.h&gt;
typedef int Type;
typedef struct{
	int* data;
	int size;
	int capacity;
	}vector;

vector* new_vector(int intial_capacity)
{
	vector*v = malloc(sizeof(vector));
	if(intial_capacity==0)
	{
		intial_capacity=4;
	}
	v-&gt;capacity=intial_capacity;
	v-&gt;data=malloc(sizeof(int)*intial_capacity);
	return v;
}

void resize(vector* v)
{
	v-&gt;capacity*=2;
	v-&gt;data = realloc(v-&gt;data, sizeof(int)*v-&gt;capacity);
}
void free_vector(vector* v)
{
	free(v-&gt;data);
	free(v);
}
int* vector_at(vector* v, int i)
<A NAME="1"></A>{
	assert(i&lt;=v-&gt;size);
	return &amp;(v-&gt;data[i]);
<FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match29-0.html#1',2,'match29-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>}
void vector_print(vector* v)
{
	printf(&quot;[%i/%i]&quot;,v-&gt;size, v-&gt;capacity);
	for(int i=0;i&lt;=v-&gt;size-1;i++)
	{
		printf(&quot; %i&quot;,v-&gt;data[i]);
	}
	printf(&quot;\n&quot;);
}
Type vector_erase(vector* v, int i)
{</B></FONT>
	assert(i&gt;=0 &amp;&amp; i&lt;=v-&gt;size);

	Type X = v-&gt;data[i];
	for(int j=i; j&lt;=v-&gt;size-1;j++)
	{
		v-&gt;data[j]=v-&gt;data[j+1];
	}
	v-&gt;size--;
	vector_print(v);
	return X;
	
}
Type vector_pop_back(vector* v)
{
	return vector_erase(v, v-&gt;size);
}
<A NAME="0"></A>Type vector_pop_front(vector* v)
{
	return vector_erase(v, 0);
<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match29-0.html#0',2,'match29-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>}
void vector_insert(vector* v, Type value, int i)
{
	assert(i&lt;= v-&gt;size);
	
	if(v-&gt;size == v-&gt;capacity)
	{
		resize(v);
	}
	for(int j=v-&gt;size;j&gt;i;j--)
	{
		v-&gt;data[j]=v-&gt;data[j-1];
	}
	v-&gt;data[i]=value;
	v-&gt;size++;	
}
void vector_push_back(vector* v, Type value)
{</B></FONT>
	vector_insert(v, value, v-&gt;size);
}
void vector_push_front(vector* v, Type value)
{
	vector_insert(v, value, 0);
}
int vector_get(vector* v, int i)
{
	assert(i&lt;=v-&gt;size);
	return (v-&gt;data[i]);
}
void vector_set(vector* v, Type value, int i)
{
	assert(i&lt;=v-&gt;size);
	return (v-&gt;data[i]=value);
}


int main()
{
	int ini_cap, loop, vlor, pos;
	char string[25];
	scanf(&quot;%i&quot;,&amp;ini_cap);
<A NAME="2"></A>	vector *v = new_vector(ini_cap);
	scanf(&quot;%i&quot;,&amp;loop);
	for(int i=0;i&lt;loop;i++)
<FONT color="#77bfc7"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match29-0.html#2',2,'match29-top.html#2',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>	{
		scanf(&quot;%s&quot;, string);
		if(strcmp(string,&quot;insert&quot;)==0)
		{
			scanf(&quot;%i %i&quot;,&amp;vlor, &amp;pos);
			vector_insert(v, vlor, pos);
			vector_print(v);
		}
		else if(strcmp(string,&quot;push_back&quot;)==0)
		{
			scanf(&quot;%i&quot;,&amp;vlor);
			vector_push_back(v, vlor);
			vector_print(v);
		}
		else if(strcmp(string,&quot;erase&quot;)==0)
		{
			scanf(&quot;%i&quot;,&amp;vlor);
			vector_erase(v, vlor);
		}
		else if(strcmp(string,&quot;pop_back&quot;)==0)
		{
			vector_pop_back(v);
		}
		else if(strcmp(string,&quot;push_front&quot;)==0)
		{
			scanf(&quot;%i&quot;,&amp;vlor);
			vector_push_front(v, vlor);
			vector_print(v);
		}
		else if(strcmp(string,&quot;pop_front&quot;)==0)
		{
			vector_pop_front(v);

		}
		else if(strcmp(string,&quot;set&quot;)==0)
		{
			scanf(&quot;%i %i&quot;,&amp;vlor, &amp;pos);
			vector_set(v, pos, vlor);
			vector_print(v);
		}</B></FONT>
			
	}
		
}
</PRE>
</BODY>
</HTML>
